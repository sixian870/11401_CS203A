# Quiz III : Hashing 的機制與碰撞處理

範圍 : [Hashing](05_Hashing.pdf)

---

### 一、 學習要點

1.  **哈希表基礎術語**：

    * **碰撞 (Collision)**：指兩個或多個不同的 Key 透過 Hash Function 計算後，被分配到相同的索引位置。
      
    * **負載因子 (Load Factor, $\alpha$)**：計算方式為 $\alpha = \frac{\text{元素數量 (n)}}{\text{哈希表大小 (m)}}$。負載因子越高，代表表內越擁擠，碰撞機率隨之增加，進而降低搜尋與插入效能。
      
    * **聚集問題 (Clustering)**：
      
        * **初級聚集 (Primary Clustering)**：連續佔用的位置形成長鏈，使新插入的資料需要花費更多時間尋找空位，常見於線性探測法。
          
        * **次級聚集 (Secondary Clustering)**：不同的鍵若計算出相同的初始索引，會遵循相同的探測路徑進行排序。
          
2.  **哈希函數設計**：

    * **除法取餘法 (Division Method)**：$h(k) = k \pmod m$。若 $m=10$，所有尾數相同的 Key 會產生碰撞（如 27, 37, 47 索引皆為 7）。
      
    * **折疊法 (Folding Method)**：將鍵切成數段相加後取餘數，能讓資料分佈更均勻，減少特定模式導致的碰撞。
      
3.  **衝突處理機制比較表**：

    | 特性 | 開放定址法 (Open Addressing) | 鏈結法 (Separate Chaining) |
    | :--- | :--- | :--- |
    | **資料存放** | 直接儲存在陣列內 (Inside Array) | 儲存於陣列外的鏈結串列 |
    | **衝突處理** | 在陣列內探測 (Probe) 其他空位 | 每個索引對應一個串列存放多個元素 |
    | **空間效率** | 受限於陣列固定大小 | 具動態彈性，可超出陣列大小 |
    | **聚集問題** | 容易產生 Primary/Secondary Clustering | 不會產生初級聚集問題 |


### 二、 錯誤修正

#### 1. Q2：什麼是桶 (Bucket)？

* **錯誤原因**：未注意題目要求為 a bucket，畫了整個陣列。
  
* **正確訂正**：
  
    * **桶 (Bucket)** 是哈希表中的一個基本儲存單元，對應陣列中的一個索引位置。
      
    * 它可以存放一個或多個資料。在鏈結法（Separate Chaining）中，每個桶會作為一個指標，指向外部用來處理碰撞的資料結構（如鏈結串列）。

#### 2. Q6：開放定址法與鏈結法的本質區別

* **錯誤原因**：作答時將「Open Addressing」與「Separate Chaining」的處理方式混淆，導致定義完全寫反。
  
* **正確訂正**：
  
    * **鏈結法 (Separate Chaining)**：當發生碰撞時，會在該桶的位置建立或延伸一個鏈結串列來存放新元素。
      
    * **開放定址法 (Open Addressing)**：發生碰撞時，不使用外部空間，而是依照特定探測規則（如線性探測、平方探測）在原陣列內尋找下一個可用的空桶。
